\newcommand{\truncatehash}[1]{%
  \StrLeft{#1}{12}\ldots%
}

\hypertarget{protocol-summary}{%
\section{Protocol Summary}\label{protocol-summary}}

\input{protocol_summary.tex}

\hypertarget{audit-scope}{%
\section{Audit Scope}\label{audit-scope}}

\input{audit_scope.tex}
 
\hypertarget{executive-summary}{%
\section{Executive Summary}\label{executive-summary}}

% FIXME -> PLACEHOLDERS are replace for the information in "./source/summary-information.conf"
Over the course of \textbf{__PLACEHOLDER__REVIEW_LENGTH} days, the LPHAC team conducted an audit on the 
\href{__PLACEHOLDER__REPO_LINK}{__PLACEHOLDER__PROJECT_NAME}
smart contracts provided by
\href{__PLACEHOLDER__TEAM_WEBSITE}{__PLACEHOLDER__TEAM_NAME}.
In this period, a total of \textbf{__PLACEHOLDER__ISSUE_TOTAL_COUNT} issues were found.

% insert new line
\bigbreak
\input{executive_summary.tex}

\vspace{1cm}

% Temporarily adjust the float placement parameters
\renewcommand{\floatpagefraction}{.8}%
\renewcommand{\textfraction}{.1}%
\renewcommand{\topfraction}{.9}%
\renewcommand{\bottomfraction}{.9}%
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{2}
\setcounter{totalnumber}{4}

\begin{table}[H]
  \centering
  \caption*{\textbf{Summary}}
  \begin{tabular}{|p{3cm}|p{6cm}|}
    \hline
    Project Name & __PLACEHOLDER__PROJECT_NAME \\
    \hline
    Repository & \href{__PLACEHOLDER__REPO_LINK}{__PLACEHOLDER__REPO_NAME} \\
    \hline
    Initial Commit & \href{__PLACEHOLDER__INITIAL_COMMIT_HASH_LINK}{\truncatehash{__PLACEHOLDER__INITIAL_COMMIT_HASH}} \\
    \hline
    Final Commit & \href{__PLACEHOLDER__FINAL_COMMIT_HASH_LINK}{\truncatehash{__PLACEHOLDER__FINAL_COMMIT_HASH}} \\
    \hline
    Audit Timeline & __PLACEHOLDER__AUDIT_TIMELINE \\
    \hline
    Methods & __PLACEHOLDER__AUDIT_METHODS \\
    \hline
  \end{tabular}
\end{table}

\begin{table}[H]
  \centering
  \caption*{\textbf{Issues Found}}
  \begin{tabular}{|p{3cm}|p{6cm}|}
    \hline
    Critical Risk & __PLACEHOLDER__ISSUE_CRITICAL_COUNT \\
    \hline
    High Risk & __PLACEHOLDER__ISSUE_HIGH_COUNT \\
    \hline
    Medium Risk & __PLACEHOLDER__ISSUE_MEDIUM_COUNT \\ 
    \hline
    Low Risk & __PLACEHOLDER__ISSUE_LOW_COUNT \\
    \hline
    Informational & __PLACEHOLDER__ISSUE_INFORMATIONAL_COUNT \\
    \hline
    Gas Optimizations & __PLACEHOLDER__ISSUE_GAS_OPTIMIZATION_COUNT \\ 
    \hline
    Total Issues & __PLACEHOLDER__ISSUE_TOTAL_COUNT \\
    \hline
  \end{tabular}
\end{table}

% Reset float placement parameters to their defaults
\renewcommand{\floatpagefraction}{.5}%
\renewcommand{\textfraction}{.2}%
\renewcommand{\topfraction}{.7}%
\renewcommand{\bottomfraction}{.3}%
\setcounter{topnumber}{2}
\setcounter{bottomnumber}{1}
\setcounter{totalnumber}{3}

\begin{longtable}{|p{12cm}|p{3cm}|}
  \caption*{\textbf{Summary of Findings}}
  % __PLACEHOLDER__SUMMARY_OF_FINDINGS_START
\hline\hyperlink{}{[H-1] Vault share manipulation attack by short-circuiting \texttt{maxRedeem}} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[M-1] \texttt{unfactorInvoice} does not consider partially paid invoice amounts} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[M-2] Fee changes are applied retroactively to active invoices} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[M-3] Interest tax is calculated to be a magnitude larger than the specified \texttt{taxBps}} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[L-1] Funded invoices can be re-approved by privileged accounts} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[L-2] Rounding errors in withdrawal allows for asset removal while retaining shares} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[L-3] Only \texttt{USDC} is supported as a primary asset for facilitating invoices} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[L-4] Potential mismatch in claim token and \texttt{BullaFactoring} asset} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[I-1] Multiple divisions can be simplified into a single operation} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[I-2] \texttt{pricePerShare} incorrectly scales shares based on \texttt{SCALING\_FACTOR}} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[I-3] \texttt{convertToShares} incorrectly scales when supply is zero} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[I-4] Code hygiene improvements} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[I-5] Share redemptions are not permissioned} & \checkmark \space Verified Fix\\
\hline\hyperlink{}{[I-6] Unnecessary double iteration of pool status arrays} & \checkmark \space Verified Fix\\
\hline
% __PLACEHOLDER__SUMMARY_OF_FINDINGS_END
\end{longtable}
